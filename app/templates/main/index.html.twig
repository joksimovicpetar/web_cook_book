{% extends 'base.html.twig' %}

{% block body %}
    {% include 'main/modal.html.twig' %}
    <div class="container">
        <div class="row">
            <a class="waves-effect waves-light btn btn-logout" href="{{ path('app_logout') }}">Logout</a>
        </div>
        <div class="row">
            <div class="col l1"></div>
            <div class="col l2 m6 s12">
                <img class="logo-img" id="logo" alt="logo" src="{{ asset("uploads/webkuvar.png") }}" draggable="false">
            </div>
            <div class="col l1"></div>
            <div class="col l3 m6 s12">
                <select class="recipe-search-selector" id="recipe-search-selector">
                    <option value="" disabled selected>Pretraga recepta</option>
                    <option value="1">Po tipu recepta</option>
                    <option value="2">Po nazivu recepta</option>
                </select>
            </div>
            <div class="col l1"></div>
            <div class="col l3 m6 s12">
                <a class="waves-effect waves-light btn btn-cart" href="#">Pogledaj u korpu <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                        <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                    </svg></a>
            </div>
            <div class="col l1"></div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col l2"></div>
            <div class="col l8 radio-button-container" id="radio-button-container">

            </div>
            <div class="col l2"></div>
        </div>
        <div class="row" id="recipe-list">

        </div>
        <div class="row" >
            <a class="waves-effect waves-light btn btn-load recipe-load" id="recipe-load-more" style="visibility: hidden">Load more</a>
        </div>

    </div>
{% endblock %}
{% block javascriptsBody %}
    <script src="{{ asset('js/add-to-cart.js') }}"></script>
    <script>
        $(document).ready(function () {
            $('.modal').modal();
        })

        function displayRecipeDetails(recipe) {
            recipe_id = recipe.getAttribute("data-id");

            fetch(`http://localhost:8082/recipe_detail/${recipe_id}`, {
                        method: 'GET',
                        headers: {'Content-Type': 'application/json'},
                    }).then(function(response) {
                        return response.text();
                    }).then(function(data) {
                        $('#modal').html(data);
                        $('#modal').modal('open');
                    add();
                    })
        }
    </script>
    <script src="{{ asset('js/select-search-type.js') }}"></script>
    <script src="{{ asset('js/choose-category.js') }}"></script>
    <script src="{{ asset('js/pagination.js') }}"></script>
    <script src="{{ asset('js/search.js') }}"></script>
{#    <script src="{{ asset('js/modal.js') }}"></script>#}
{% endblock %}